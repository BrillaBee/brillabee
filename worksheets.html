<script src="assets/generated-files.js"></script>
<script>
  const worksheetFolder = "worksheets/";
  const container = document.getElementById("worksheet-list");

  // Group files by year
  const fileGroups = {};

  files.forEach(file => {
    const match = file.match(/Year\s?(\d{4})/i);
    if (match) {
      const year = match[1];
      if (!fileGroups[year]) fileGroups[year] = [];
      fileGroups[year].push(file);
    }
  });

  // Create year sections
  Object.keys(fileGroups).sort().forEach(year => {
    const section = document.createElement("section");
    section.innerHTML = `<h2 style="width:100%">ðŸ“˜ Year ${year}</h2>`;
    
    const groupDiv = document.createElement("div");
    groupDiv.className = "card-list";

    fileGroups[year].forEach(file => {
      const title = file.replace(".pdf", "");
      const card = document.createElement("div");
      card.className = "worksheet-card";
      card.innerHTML = `
        <h3>${title}</h3>
        <a href="${worksheetFolder + file}" target="_blank" class="download-btn">ðŸ“¥ Download PDF</a>
      `;
      groupDiv.appendChild(card);
    });

    section.appendChild(groupDiv);
    container.appendChild(section);
  });
</script>
